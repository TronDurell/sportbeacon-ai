# SportBeacon AI üèÜ

[![Build Status](https://github.com/TronDurell/sportbeacon-ai/actions/workflows/main.yml/badge.svg)](https://github.com/TronDurell/sportbeacon-ai/actions)
[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.0-blue)](https://reactjs.org/)
[![Firebase](https://img.shields.io/badge/Firebase-10.0-orange)](https://firebase.google.com/)

SportBeacon AI is a next-generation sports analytics platform that combines AI-powered insights with social features to help athletes improve their performance and monetize their skills.

## üåü Features

### Player Analytics
- **AI Video Analysis**: Automated skill assessment and technique breakdown
- **Performance Tracking**: Track progress with detailed metrics and insights
- **Custom Drills**: AI-generated training recommendations

### Social & Monetization
- **Creator Dashboard**: Track earnings, views, and engagement
- **Tipping System**: Receive tips from fans and supporters
- **Badge System**: Earn badges and unlock multipliers
- **Referral Program**: Multi-tier referral system with rewards

### Technical Features
- **OpenGraph Integration**: Dynamic player cards for social sharing
- **PDF Report Generation**: Detailed performance reports with charts
- **Weekly Email Summaries**: Automated performance updates
- **Role-Based Access**: Coach and player-specific views

## üöÄ Getting Started

### Prerequisites
```bash
node >= 18.0.0
npm >= 9.0.0
```

### Installation
```bash
# Clone the repository
git clone https://github.com/TronDurell/sportbeacon-ai.git

# Install dependencies
cd sportbeacon-ai
npm install

# Set up environment variables
cp .env.example .env.local

# Start development server
npm run dev
```

## üèóÔ∏è Architecture

### Frontend
- Next.js with TypeScript
- Material-UI for components
- Framer Motion for animations
- React-PDF for report generation

### Backend
- Firebase Cloud Functions
- Firestore for data storage
- SendGrid for email delivery
- Vercel for OpenGraph image generation

## üìä Data Models

### Player Profile
```typescript
interface PlayerProfile {
  id: string;
  name: string;
  badge: {
    tier: 'Bronze' | 'Silver' | 'Gold';
    progress: number;
  };
  stats: {
    totalTips: number;
    weeklyViews: number;
    shareCount: number;
  };
  preferences: {
    profilePublic: boolean;
    receiveWeeklyEmail: boolean;
  };
}
```

### Assessment Data
```typescript
interface Assessment {
  playerId: string;
  timestamp: Date;
  metrics: {
    technique: number;
    speed: number;
    accuracy: number;
    consistency: number;
  };
  aiInsights: string[];
  recommendedDrills: string[];
}
```

## üîí Security

- Role-based access control for features
- Profile visibility controls
- Firebase Authentication
- Secure API endpoints

## üì± Mobile Responsiveness

The platform is fully responsive with:
- Adaptive layouts
- Touch-friendly controls
- Optimized video playback
- Mobile-first design approach

## ü§ù Contributing

1. Fork the repository
2. Create your feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit your changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

## üë• Team

- [@TronDurell](https://github.com/TronDurell) - Lead Developer
- Additional contributors welcome!

## üôè Acknowledgments

- [Vercel](https://vercel.com) for hosting and OpenGraph support
- [Firebase](https://firebase.google.com) for backend infrastructure
- [Material-UI](https://mui.com) for UI components

### üß† AI Module Overview
- `player_insight.py`: Analyzes stats to detect top skills and trends
- `highlight_tagging_engine.py`: Auto-tags events like hot streaks or clutch plays using configurable scores
- `coach_assistant.py`: Evaluates player/team performance based on strategic goals
- `highlight_generator.py`: Suggests highlight-worthy events from matches

#### Leaderboard Module
The `useLeaderboard` hook ranks players by win rate, assists, and points, providing a dynamic leaderboard for competitive analysis.

Example usage:
```jsx
const { players, loading } = useLeaderboard();
```

### üß™ API Endpoints
- `GET /api/posts`: Retrieve a list of posts
- `GET /api/insights`: Fetch insights generated by the AI
- `GET /api/player/:id/timeline`: Get the timeline of a specific player
- `GET /api/venues/:id/stats`: Retrieve statistics for a specific venue

Example curl commands:
```
curl -X GET http://localhost:3000/api/posts
curl -X GET http://localhost:3000/api/insights
curl -X GET http://localhost:3000/api/player/123/timeline
curl -X GET http://localhost:3000/api/venues/456/stats
```

### üß† API Module Overview

#### ARStatOverlay
The `ARStatOverlay` component displays live player statistics in an augmented reality overlay. It uses the `usePlayerStats` hook to fetch and display data such as player name, win rate, and trend.

Example usage:
```jsx
<ARStatOverlay venueId="12345" />
```

#### usePlayerStats
The `usePlayerStats` hook fetches player statistics from Firestore based on a given venue ID. It returns the data along with loading and error states.

Example usage:
```jsx
const { data, loading, error } = usePlayerStats('12345');
```

### üõ†Ô∏è Notification, Alerts & Drill Feedback Module

#### useNotifications
The `useNotifications` hook alerts users to unread chats, updates, and evaluations.

Example usage:
```jsx
const { alerts } = useNotifications(userId);
```

#### AlertList
The `AlertList` component displays the alert feed.

Example usage:
```jsx
<AlertList userId={userId} />
```

#### useDrillSuggestions
The `useDrillSuggestions` hook provides AI-generated drill suggestions based on player stats.

Example usage:
```jsx
const suggestions = useDrillSuggestions(stats);
```

#### DrillSuggestCard
The `DrillSuggestCard` component displays drill suggestions.

Example usage:
```jsx
<DrillSuggestCard stats={playerStats} />
```

### üèÖ Player Module

#### PlayerComparison
The `PlayerComparison` component visually compares two players' stats, highlighting the leader in each category.

Example usage:
```jsx
<PlayerComparison player1={player1} player2={player2} />
```

#### useDrillLog
The `useDrillLog` hook fetches weekly drill performance logs from Firestore, grouped by week.

Example usage:
```jsx
const { drills, loading, error } = useDrillLog('playerId');
```

### üîç Search & AI Enhancement Module

#### useSearchPlayers
The `useSearchPlayers` hook filters players by tag, name, or stat using Firestore tag/regex search.

Example usage:
```jsx
const results = useSearchPlayers('query');
```

#### SearchResults
The `SearchResults` component displays search results in a paginated card layout.

Example usage:
```jsx
<SearchResults players={results} />
```

#### AI Drill Focus
The `analyzeDrillTrends` function analyzes drill logs to suggest player focus areas.

Example usage:
```jsx
const focus = analyzeDrillTrends(drillLogs);
```

### üìä Team Intelligence Module

#### useTeamStats
The `useTeamStats` hook aggregates team win percentage, average score, assists, and top players.

Example usage:
```jsx
const stats = useTeamStats('teamId');
```

#### TeamRadarChart
The `TeamRadarChart` component visualizes team metrics in a radar graph.

Example usage:
```jsx
<TeamRadarChart stats={stats} />
```

#### TeamInsightsCard
The `TeamInsightsCard` component shows a team breakdown, including stats, player highlights, and trend arrows.

Example usage:
```jsx
<TeamInsightsCard team={team} teamStats={teamStats} topPlayers={topPlayers} />
```

### üéÆ Match Breakdown Module

#### useGameTimeline
The `useGameTimeline` hook fetches key in-game events from Firestore, ordered by time and filtered by gameId.

Example usage:
```jsx
const events = useGameTimeline('gameId');
```

#### useGameMomentum
The `useGameMomentum` hook calculates momentum scores by interval.

Example usage:
```jsx
const momentumData = useGameMomentum('gameId');
```

#### MatchTimeline
The `MatchTimeline` component animates game events using MUI Timeline and icons.

Example usage:
```jsx
<MatchTimeline events={events} />
```

#### MomentumChart
The `MomentumChart` component visualizes match flow using Recharts LineChart.

Example usage:
```jsx
<MomentumChart data={momentumData} />
```

#### GameSummaryCard
The `GameSummaryCard` component combines timeline, momentum, and AI commentary.

Example usage:
```jsx
<GameSummaryCard timeline={events} momentumData={momentumData} aiCommentary={aiCommentary} />
```

### üèÜ Scout & Evaluation Module

#### useEvaluationRubric
The `useEvaluationRubric` hook loads rubrics for categories like agility, strength, awareness, etc.

Example usage:
```jsx
const rubric = useEvaluationRubric();
```

#### useAthleteEval
The `useAthleteEval` hook stores and retrieves player evaluations.

Example usage:
```jsx
const evaluations = useAthleteEval('athleteId');
```

#### EvalForm
The `EvalForm` component provides sliders and select fields to grade each category.

Example usage:
```jsx
<EvalForm evals={evals} setEvals={setEvals} submitEvaluation={submitEvaluation} />
```

#### EvalSummary
The `EvalSummary` component summarizes scores and provides AI feedback.

Example usage:
```jsx
<EvalSummary scores={scores} aiFeedback={aiFeedback} />
```

#### useEvaluationScore
The `useEvaluationScore` hook calculates weighted scores based on evaluations.

Example usage:
```jsx
const score = useEvaluationScore(evals);
```

### üî• AI Feed Module

#### useTrendingAthletes
The `useTrendingAthletes` hook fetches top players by growth.

Example usage:
```jsx
const athletes = useTrendingAthletes();
```

#### FeedScroll
The `FeedScroll` component shows TikTok-style AI-enhanced cards.

Example usage:
```jsx
<FeedScroll />
```

#### SpotlightCard
The `SpotlightCard` component provides visual breakdowns with photo and stat rise.

Example usage:
```jsx
<SpotlightCard athlete={athlete} />
```

#### FeedFilters
The `FeedFilters` component allows for stat and role filtering.

Example usage:
```jsx
<FeedFilters statFilter={statFilter} setStatFilter={setStatFilter} roleFilter={roleFilter} setRoleFilter={setRoleFilter} />
```

#### summarizePlayerGrowth
The `summarizePlayerGrowth` function auto-summarizes player growth.

Example usage:
```jsx
const summary = summarizePlayerGrowth(playerData);
```

### üìç League Explorer Module

#### useNearbyLeagues
The `useNearbyLeagues` hook fetches leagues within a 25-mile radius.

Example usage:
```jsx
const leagues = useNearbyLeagues(geoPoint);
```

#### usePublicMatches
The `usePublicMatches` hook fetches public matches by date and location.

Example usage:
```jsx
const matches = usePublicMatches(date, location);
```

#### LeagueCard
The `LeagueCard` component previews local teams with logo, coach, and sport information.

Example usage:
```jsx
<LeagueCard league={league} />
```

#### MatchMap
The `MatchMap` component visualizes nearby games on a map.

Example usage:
```jsx
<MatchMap matches={matches} />
```

#### JoinTeamModal
The `JoinTeamModal` component requests access to public rosters.

Example usage:
```jsx
<JoinTeamModal open={open} onClose={handleClose} onSubmit={handleSubmit} />
```

### üë§ Profile, Team, and Messaging Module

#### useUserProfile
The `useUserProfile` hook fetches profile data for players or coaches.

Example usage:
```jsx
const profile = useUserProfile(userId);
```

#### AthleteCard
The `AthleteCard` component displays a profile preview with avatar and sport information.

Example usage:
```jsx
<AthleteCard user={user} />
```

#### useTeamBuilder
The `useTeamBuilder` hook creates and updates team rosters.

Example usage:
```jsx
const { team, createTeam, updateTeam } = useTeamBuilder(teamId);
```

#### TeamBuilder
The `TeamBuilder` component provides a drag-and-drop UI for assigning players.

Example usage:
```jsx
<TeamBuilder players={players} onAssignPlayer={handleAssignPlayer} />
```

#### useMessages
The `useMessages` hook sends and receives Firestore messages.

Example usage:
```jsx
const { messages, sendMessage } = useMessages(conversationId);
```

#### MessageModal
The `MessageModal` component provides a simple chat window UI.

Example usage:
```jsx
<MessageModal open={open} onClose={handleClose} conversationId={conversationId} senderId={senderId} />
```

### üìÖ Events + Feed Module

#### usePosts
The `usePosts` hook fetches user-generated posts from Firestore, ordered by creation date.

Example usage:
```jsx
const posts = usePosts();
```

#### TimelineFeed
The `TimelineFeed` component displays posts in a timeline format.

Example usage:
```jsx
<TimelineFeed />
```

#### useEvents
The `useEvents` hook fetches events and allows users to RSVP.

Example usage:
```jsx
const { events, rsvpEvent } = useEvents(userId);
```

#### EventCard
The `EventCard` component previews event information and allows RSVPs.

Example usage:
```jsx
<EventCard event={event} onRsvp={handleRsvp} />
```

#### useTrainingLog
The `useTrainingLog` hook manages weekly training session logs.

Example usage:
```jsx
const { logs, addLog } = useTrainingLog(userId);
```

#### TrainingLogCard
The `TrainingLogCard` component displays training log activities.

Example usage:
```jsx
<TrainingLogCard log={log} />
```

#### useNotifications
The `useNotifications` hook checks for Firestore alerts.

Example usage:
```jsx
const notifications = useNotifications(userId);
```

#### NotificationBell
The `NotificationBell` component shows a notification icon with an unread counter.

Example usage:
```jsx
<NotificationBell userId={userId} />
``` 